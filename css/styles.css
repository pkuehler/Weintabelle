html { font-size: 62.5%; }
:root { --primary:#8a1538; --border:#ddd; --muted:#666; }

body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-size: 1.6rem;
  line-height: 1.4;
  color: #222;
  max-width: 120rem;
  margin: 0 auto;
  padding: 1.6rem;
  background: #fff;
}
h1 { font-size: 2.0rem; margin: 0 0 1.2rem; text-align:center; }

/* Hilfe-Leiste über der Suche */
.helpbar { max-width: 80rem; margin: 0 auto .6rem auto; display: flex; justify-content: flex-end; }
#helpBtn {
  font-size: 1.3rem; padding: .4rem .8rem; border: 1px solid #ccc; background: #fff;
  border-radius: .4rem; cursor: pointer;
}
#helpBtn:hover { background: #f4f4f4; }

/* Suchleiste: Button absolut im Feld platzieren */
.searchbar { 
  position: relative; /* für absolutes Positionieren des Clear-Buttons */
  display: grid; 
  grid-template-columns: 1fr; /* nur das Input nimmt den Platz ein */
  max-width: 80rem; 
  margin: 0 auto;
}

#tableSearch {
  width: 100%;
  font-size: 1.6rem;
  padding: 1.0rem 4.0rem 1.0rem 1.2rem; /* rechts Platz für Button */
  border: 1px solid var(--border);
  border-radius: .6rem;
  line-height: 1.6rem;
}

#clearSearch {
  position: absolute;
  right: .8rem;
  top: 50%;
  transform: translateY(-50%);
  width: 2.4rem; height: 2.4rem;
  display: inline-flex; align-items: center; justify-content: center;
  border: 0; border-radius: 50%;
  background: #eee; cursor: pointer;
  font-size: 1.4rem; line-height: 1; text-align: center;
  visibility: hidden;
}
#clearSearch:hover { background: #e0e0e0; }
#clearSearch:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

/* Popup-Stile für Such-Hilfe (nutzt ähnlichen Stil wie Chip-Editor) */
#searchHelpDialog[hidden] { display: none; }
#searchHelpDialog { position: fixed; inset: 0; background: rgba(0,0,0,.35); display: grid; place-items: center; z-index: 10000; }
#searchHelpDialog .help-card {
  width: min(56rem, 92vw);
  background: #fff; border-radius: .8rem;
  box-shadow: 0 12px 40px rgba(0,0,0,.25);
  padding: 1.2rem 1.2rem 1rem;
}
#searchHelpDialog .help-head {
  display: flex; justify-content: space-between; align-items: center;
  border-bottom: 1px solid #eee; padding-bottom: .6rem; margin-bottom: 1rem;
}
#searchHelpDialog h3 { margin: 0; font-size: 1.6rem; }
#searchHelpDialog .help-close {
  border: none; background: transparent; font-size: 1.6rem; cursor: pointer;
}
#searchHelpDialog .help-body { font-size: 1.4rem; }
#searchHelpDialog .help-body code { background: #f6f6f8; padding: .1rem .4rem; border-radius: .3rem; }
#searchHelpDialog .help-actions { display: flex; justify-content: flex-end; margin-top: 1rem; }

/* Klickbare Beispiel-Queries im Hilfe-Popup */
#searchHelpDialog .q {
  display: inline-block;
  background: #f6f6f8;
  border: 1px solid #e2e2e6;
  border-radius: .4rem;
  padding: .2rem .5rem;
  margin: .1rem .2rem;
  cursor: pointer;
  user-select: none;
}
#searchHelpDialog .q:hover { background: #efeff3; }
#searchHelpDialog ul { margin: .6rem 0 .8rem 1.2rem; }
#searchHelpDialog li { margin: .2rem 0; }
#searchHelpDialog .help-body h4 { margin: 1.0rem 0 .4rem; font-size: 1.4rem; }

/* Such-Hilfe Dialog – Scrollbares Layout */
#searchHelpDialog[hidden] { display: none; }
#searchHelpDialog {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.35);
  display: grid; place-items: center;
  z-index: 10000;
}

#searchHelpDialog .help-card {
  width: min(56rem, 92vw);
  max-height: 85vh;         /* begrenzt die Gesamthöhe */
  background: #fff;
  border-radius: .8rem;
  box-shadow: 0 12px 40px rgba(0,0,0,.25);
  padding: 1.2rem 1.2rem 1rem;

  display: flex;            /* Header, Body, Footer untereinander */
  flex-direction: column;
}

#searchHelpDialog .help-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #eee;
  padding-bottom: .6rem;
  margin-bottom: 1rem;
}

#searchHelpDialog h3 { margin: 0; font-size: 1.6rem; }
#searchHelpDialog .help-close {
  border: none; background: transparent; font-size: 1.6rem; cursor: pointer;
}

/* Der mittlere Bereich scrollt bei Überlänge */
#searchHelpDialog .help-body {
  flex: 1 1 auto;           /* nimmt den verfügbaren Platz ein */
  overflow-y: auto;         /* macht den Inhalt scrollbar */
  font-size: 1.4rem;
  padding-right: .4rem;     /* etwas Platz neben Scrollbar */
}

/* Footer bleibt sichtbar am unteren Rand */
#searchHelpDialog .help-actions {
  flex-shrink: 0;
  display: flex;
  justify-content: flex-end;
  margin-top: 1rem;
  padding-top: .6rem;
  border-top: 1px solid #eee;
}


@media (max-width: 640px) { .qb-rule { grid-template-columns: 1fr 1fr 1fr 6rem 3rem; } }

/* Trefferinfo + Pager */
#resultInfo { margin-top: 1.2rem; text-align: center; font-size: 1.6rem; }
#pager { margin-top: 2rem; display: flex; align-items: center; justify-content: center; gap: 1.2rem; flex-wrap: wrap; }
#pageSize { font-size: 1.4rem; padding: .4rem .6rem; border: 1px solid var(--border); border-radius: .4rem; }
#pageInfo { font-size: 1.5rem; color: var(--muted); }
#pageNumbers { display: flex; gap: .4rem; align-items: center; }
#pageNumbers .pnum {
  border: 1px solid var(--border); background: #f7f7f8;
  border-radius: .4rem; padding: .4rem .8rem; cursor: pointer; font-size: 1.4rem;
}
#pageNumbers .pnum[aria-current="page"] { background: var(--primary); color: #fff; border-color: var(--primary); }
#pageNumbers .ellipsis { padding: 0 .4rem; color: var(--muted); }

/* Tabelle */
.table-wrap { overflow-x: auto; margin-top: 1.6rem; }
table { width: 100%; border-collapse: collapse; border: 1px solid var(--border); }
caption { caption-side: top; text-align: left; padding-bottom: .6rem; color: var(--muted); }

thead th {
  position: sticky; top: 0; z-index: 1;
  background: #f4f4f5;
  border-bottom: 1px solid var(--border);
  padding: .8rem;
  text-align: center;
  vertical-align: middle;
  font-weight: 700;
}
thead th.sortable { cursor: pointer; user-select: none; }
thead th.sortable:hover { background: #ddd; }

/* Sortier-Indikatoren */
thead th .sort-indicator { display: inline-block; line-height: 0.8; margin-left: .4rem; vertical-align: middle; }
thead th[aria-sort="none"] .sort-indicator::before { content: "▲"; display: block; opacity: 0.3; }
thead th[aria-sort="none"] .sort-indicator::after  { content: "▼"; display: block; opacity: 0.3; }
thead th[aria-sort="ascending"] .sort-indicator::before { content: "▲"; display: block; }
thead th[aria-sort="ascending"] .sort-indicator::after  { content: "▼"; display: none; }
thead th[aria-sort="descending"] .sort-indicator::before { content: "▲"; display: none; }
thead th[aria-sort="descending"] .sort-indicator::after  { content: "▼"; display: block; }

tbody td {
  padding: .6rem .8rem;
  border-bottom: 1px solid #eee;
  border-right: 1px solid #eee; /* Spaltenlinien */
  vertical-align: top;
}

tbody a {
  color: var(--primary);
  text-decoration: none;
}
tbody a:hover, tbody a:focus {
  text-decoration: underline;
}

/* Spaltenbreiten & Ausrichtung */
colgroup col:nth-child(1) { width: 11%; }
colgroup col:nth-child(2) { width: 32%; }
colgroup col:nth-child(3) { width: 22%; }
colgroup col:nth-child(4) { width: 11%; }
colgroup col:nth-child(5) { width: 13%; }
colgroup col:nth-child(6) { width: 11%; }
tbody td:nth-child(1) { text-align: center; }
tbody td:nth-child(2) { text-align: left; }
tbody td:nth-child(3) { text-align: left; }
tbody td:nth-child(4) { text-align: center; }
tbody td:nth-child(5) { text-align: right; }
tbody td:nth-child(6) { text-align: center; }

/* No-Results */
#noResults.hidden { display: none; }
#noResults td { text-align: center; padding: 2rem; color: #999; }


/* Autocomplete */
.autocomplete-suggestions {
  border: 1px solid #ccc;
  background: white;
  max-height: 200px;
  overflow-y: auto;
}
.autocomplete-item {
  padding: 4px 8px;
  cursor: pointer;
}
.autocomplete-item:hover {
  background-color: #eee;
}
